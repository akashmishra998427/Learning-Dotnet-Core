@{
    ViewData["Title"] = "More Details - E-Commerce";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="more-details py-5">
    <div class="container">
        <h1 class="text-center">@Model.Product.Name</h1>
        <div class="row">
            <div class="col-md-6">
                <img src="@Model.Product.ImageUrl" class="img-fluid" alt="@Model.Product.Name">
            </div>
            <div class="col-md-6">
                <h3>Price: $@Model.Product.Price</h3>
                <p><strong>Features:</strong></p>
                <ul>
                    @foreach (var feature in Model.Product.Features)
                    {
                        <li>@feature</li>
                    }
                </ul>
                <p><strong>Description:</strong></p>
                <p>@Model.Product.Description</p>
                <form action="/Cart/Add" method="post">
                    <input type="hidden" name="productId" value="@Model.Product.Id" />
                    <button type="submit" class="btn btn-success">Add to Cart</button>
                </form>
            </div>
        </div>

        <h2 class="mt-5">Customer Reviews</h2>
        @if (Model.Reviews.Count == 0)
        {
            <p>No reviews yet. Be the first to review this product!</p>
        }
        else
        {
            <div class="reviews">
                @foreach (var review in Model.Reviews)
                {
                    <div class="review border p-3 mb-3">
                        <h5>@review.UserName</h5>
                        <p>Rating: @review.Rating ⭐</p>
                        <p>@review.Comment</p>
                    </div>
                }
            </div>
        }

        <h2 class="mt-5">Write a Review</h2>
        <form action="/Reviews/Add" method="post">
            <input type="hidden" name="productId" value="@Model.Product.Id" />
            <div class="form-group">
                <label for="userName">Your Name</label>
                <input type="text" class="form-control" id="userName" name="userName" required>
            </div>
            <div class="form-group">
                <label for="rating">Rating</label>
                <select class="form-control" id="rating" name="rating" required>
                    <option value="1">1 Star</option>
                    <option value="2">2 Stars</option>
                    <option value="3">3 Stars</option>
                    <option value="4">4 Stars</option>
                    <option value="5">5 Stars</option>
                </select>
            </div>
            <div class="form-group">
                <label for="comment">Your Review</label>
                <textarea class="form-control" id="comment" name="comment" rows="3" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Submit Review</button>
        </form>
    </div>
</section>
